<!doctype html>
<html lang="es">
<head>
    <link rel="shortcut icon" href="{{ url_for('static', filename='logo_gymrats.png') }}" type="image/x-icon">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>{% block title %}{% endblock title %}</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.23.0/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.23.0/dist/sweetalert2.all.min.js"></script>
</head>
<body class="bg-light">

<nav class="navbar navbar-expand-lg bg-body-tertiary" data-bs-theme="dark" style="background: linear-gradient(92deg, #000000,#242424,#5f5e5d,#e6e6e6);">
    <div class="container">
        <a class="navbar-brand" href="#">
            <img src="{{ url_for('static', filename='logo_gymrats.png') }}" alt="Logo" width="30" height="30" class="d-inline-block align-text-top">
            GymRats
        </a>
        <div class="ms-auto d-flex align-items-center gap-3">
            {% if session.get('nombre') %}
            <span class="text-light">Bienvenid@, {{ session['nombre'] }}</span>
            {% endif %}
            <a class="btn btn-outline-success" href="{{ url_for('logout') }}">SALIR</a>
        </div>
    </div>
</nav>

<main class="container py-4">
    {% block body %}{% endblock %}
</main>

<footer>
    <hr>
    <div class="container bg-light">
        <p class="text-center">Copyright © 2025 - Yordanicks Sirias</p>
    </div>
</footer>

<script src="https://code.jquery.com/jquery-3.7.1.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const logoutBtn = document.querySelector('a[href="{{ url_for("logout") }}"]');
    if (logoutBtn) {
        logoutBtn.addEventListener('click', function (e) {
            e.preventDefault();
            Swal.fire({
                title: '¿Está seguro que desea cerrar el sistema?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: 'Sí, cerrar',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.isConfirmed) {
                    window.location.href = logoutBtn.href;
                }
            });
        });
    }
});
</script>
</body>
</html>